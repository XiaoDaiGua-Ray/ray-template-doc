import{_ as s,o as a,c as l,V as n}from"./chunks/framework.51f721ee.js";const A=JSON.parse('{"title":"基础运算工具包","description":"","frontmatter":{},"headers":[],"relativePath":"ray-template-docs/dev/utils/precision.md","filePath":"ray-template-docs/dev/utils/precision.md","lastUpdated":1711251901000}'),o={name:"ray-template-docs/dev/utils/precision.md"},p=n(`<h1 id="基础运算工具包" tabindex="-1">基础运算工具包 <a class="header-anchor" href="#基础运算工具包" aria-label="Permalink to &quot;基础运算工具包&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>模板提供解决精度问题的基础运算方法。并且支持高度的自定义。基于 <a href="https://currency.js.org/#subtract" target="_blank" rel="noreferrer">currency.js</a> 封装。默认保留 <code>8</code> 位小数并且四舍五入。</p></div><h2 id="iscurrency" tabindex="-1">isCurrency <a class="header-anchor" href="#iscurrency" aria-label="Permalink to &quot;isCurrency&quot;">​</a></h2><p>判断是否是 currency 对象。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">isCurrency</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> currency </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">currency.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">isCurrency</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"><span style="color:#82AAFF;">isCurrency</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">currency</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// true</span></span></code></pre></div><h2 id="format" tabindex="-1">format <a class="header-anchor" href="#format" aria-label="Permalink to &quot;format&quot;">​</a></h2><p>格式化 currency 对象。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">format</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 0.1</span></span></code></pre></div><h2 id="add" tabindex="-1">add <a class="header-anchor" href="#add" aria-label="Permalink to &quot;add&quot;">​</a></h2><p>加法运算。支持多个参数。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">add</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">format</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">add</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 0.3</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">add</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 0.6</span></span></code></pre></div><h2 id="subtract" tabindex="-1">subtract <a class="header-anchor" href="#subtract" aria-label="Permalink to &quot;subtract&quot;">​</a></h2><p>减法运算。支持多个参数。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">subtract</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">format</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">subtract</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.3</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 0.1</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">subtract</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.3</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 0</span></span></code></pre></div><h2 id="multiply" tabindex="-1">multiply <a class="header-anchor" href="#multiply" aria-label="Permalink to &quot;multiply&quot;">​</a></h2><p>乘法运算。支持多个参数。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">multiply</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">format</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">multiply</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 0.02</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">multiply</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 0.006</span></span></code></pre></div><h2 id="divide" tabindex="-1">divide <a class="header-anchor" href="#divide" aria-label="Permalink to &quot;divide&quot;">​</a></h2><p>除法运算。支持多个参数。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">divide</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">format</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">divide</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.3</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 1.5</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">divide</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0.3</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// 15</span></span></code></pre></div><h2 id="distribute" tabindex="-1">distribute <a class="header-anchor" href="#distribute" aria-label="Permalink to &quot;distribute&quot;">​</a></h2><p>分配运算。将一个值按照比例分配给多个值。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">distribute</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/utils</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">distribute</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// [0]</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">distribute</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// [1]</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">distribute</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// [0.5, 0.5]</span></span>
<span class="line"><span style="color:#82AAFF;">format</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">distribute</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// [4, 4, 4]</span></span></code></pre></div>`,23),t=[p];function e(c,r,y,i,F,D){return a(),l("div",null,t)}const d=s(o,[["render",e]]);export{A as __pageData,d as default};
