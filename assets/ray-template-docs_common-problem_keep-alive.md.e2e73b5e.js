import{_ as s,o as e,c as a,V as l}from"./chunks/framework.51f721ee.js";const F=JSON.parse('{"title":"缓存","description":"","frontmatter":{},"headers":[],"relativePath":"ray-template-docs/common-problem/keep-alive.md","filePath":"ray-template-docs/common-problem/keep-alive.md","lastUpdated":1705730526000}'),n={name:"ray-template-docs/common-problem/keep-alive.md"},o=l(`<h1 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-label="Permalink to &quot;缓存&quot;">​</a></h1><p>缓存依赖 <code>KeepAlive</code> 组件实现。它会根据组件的 <code>name</code> 选项进行匹配，所以组件如果想要条件性地被 <code>KeepAlive</code> 缓存，就必须显式声明一个 <code>name</code> 选项。</p><h2 id="缓存失效" tabindex="-1">缓存失效 <a class="header-anchor" href="#缓存失效" aria-label="Permalink to &quot;缓存失效&quot;">​</a></h2><ul><li>查看需要缓存组件的 <code>name</code> 属性是否与路由的 <code>name</code> 属性匹配</li><li>查看路由 <code>keepAlive</code> 属性是否配置为 <code>true</code></li><li>查看 <code>APP_KEEP_ALIVE.setupKeepAlive</code> 属性是否配置为 <code>true</code></li><li>缓存是否超过了最大缓存数 <code>APP_KEEP_ALIVE.maxKeepAliveLength</code></li></ul><div class="tip custom-block"><p class="custom-block-title">tip</p><p>模板默认缓存数为 <code>5</code>，并且采用队列的形式维护缓存。会自动的收集所有配置了 <code>keepAlive</code> 的路由模块，并且放置于队列中。</p></div><h2 id="最大缓存数" tabindex="-1">最大缓存数 <a class="header-anchor" href="#最大缓存数" aria-label="Permalink to &quot;最大缓存数&quot;">​</a></h2><p>模板默认启用缓存，并且设置的最大缓存数为 <code>5</code>。可以根据自己需求更改。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 系统缓存</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 说明:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *   - setupKeepAlive: 是否启用系统页面缓存, 设置为 false 则关闭系统页面缓存</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *   - keepAliveExclude: 排除哪些页面不缓存</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *   - maxKeepAliveLength: 最大缓存页面数量</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> APP_KEEP_ALIVE</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Readonly</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">AppKeepAlive</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">setupKeepAlive</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">keepAliveExclude</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line has-focus"><span style="color:#BABED8;">  </span><span style="color:#F07178;">maxKeepAliveLength</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div>`,8),p=[o];function t(c,i,r,d,y,D){return e(),a("div",null,p)}const m=s(n,[["render",t]]);export{F as __pageData,m as default};
