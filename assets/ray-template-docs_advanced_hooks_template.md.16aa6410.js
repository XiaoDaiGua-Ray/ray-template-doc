import{_ as s,o as a,c as n,V as l}from"./chunks/framework.51f721ee.js";const F=JSON.parse('{"title":"模板专属 hooks","description":"","frontmatter":{},"headers":[],"relativePath":"ray-template-docs/advanced/hooks/template.md","filePath":"ray-template-docs/advanced/hooks/template.md","lastUpdated":null}'),o={name:"ray-template-docs/advanced/hooks/template.md"},e=l(`<h1 id="模板专属-hooks" tabindex="-1">模板专属 hooks <a class="header-anchor" href="#模板专属-hooks" aria-label="Permalink to &quot;模板专属 hooks&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>以下所有方法仅限于 <code>Layout</code> 中使用。如果需要在其他的页面使用，请确保已经完成了整个 <code>AppMenu</code> 的初始化。</p></div><h2 id="useappmenu" tabindex="-1">useAppMenu <a class="header-anchor" href="#useappmenu" aria-label="Permalink to &quot;useAppMenu&quot;">​</a></h2><h3 id="navigationto" tabindex="-1">navigationTo <a class="header-anchor" href="#navigationto" aria-label="Permalink to &quot;navigationTo&quot;">​</a></h3><p>导航方法，独立于 <code>router</code> 的跳转方式。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> navigationTo </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useAppMenu</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 传递菜单索引</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 会直接导航当前菜单索引位置为 0 的地方</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 如果导航至的菜单项并非为 root 根菜单，则会递归查找第一级子菜单并且跳转</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#82AAFF;">navigationTo</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 传递菜单项</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 会直接导航至该项</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#82AAFF;">navigationTo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> AppMenuOption </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre></div><h2 id="usemainpage" tabindex="-1">useMainPage <a class="header-anchor" href="#usemainpage" aria-label="Permalink to &quot;useMainPage&quot;">​</a></h2><h3 id="reload" tabindex="-1">reload <a class="header-anchor" href="#reload" aria-label="Permalink to &quot;reload&quot;">​</a></h3><p>刷新当前路由，并且延迟 <code>1s</code>。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> reload </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMainPage</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">reload</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1000</span><span style="color:#BABED8;">)</span></span></code></pre></div><h3 id="maximize" tabindex="-1">maximize <a class="header-anchor" href="#maximize" aria-label="Permalink to &quot;maximize&quot;">​</a></h3><p>最大化 <code>LayoutContent</code> 区域。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> maximize </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMainPage</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">maximize</span><span style="color:#BABED8;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 最大化</span></span>
<span class="line"><span style="color:#82AAFF;">maximize</span><span style="color:#BABED8;">(</span><span style="color:#FF9CAC;">false</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 取消最大化</span></span></code></pre></div><h2 id="usemenutag" tabindex="-1">useMenuTag <a class="header-anchor" href="#usemenutag" aria-label="Permalink to &quot;useMenuTag&quot;">​</a></h2><p>所有的关闭方法，都支持传递：标签页的 <code>key</code>、索引、具体标签项。</p><h3 id="getcurrenttagindex" tabindex="-1">getCurrentTagIndex <a class="header-anchor" href="#getcurrenttagindex" aria-label="Permalink to &quot;getCurrentTagIndex&quot;">​</a></h3><p>获取当前激活的标签页索引。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> getCurrentTagIndex </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">getCurrentTagIndex</span><span style="color:#BABED8;">()</span></span></code></pre></div><h3 id="close" tabindex="-1">close <a class="header-anchor" href="#close" aria-label="Permalink to &quot;close&quot;">​</a></h3><p>关闭当前标签页。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> close </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">close</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭索引位置为 \`1\` 的标签页</span></span>
<span class="line"><span style="color:#82AAFF;">close</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/echart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭 key 为 \`/echart\` 的标签页</span></span>
<span class="line"><span style="color:#82AAFF;">close</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> MenuTagOptions </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭具体标签页项</span></span></code></pre></div><h3 id="closeall" tabindex="-1">closeAll <a class="header-anchor" href="#closeall" aria-label="Permalink to &quot;closeAll&quot;">​</a></h3><p>关闭所有标签页。然后导航至 root path 页面。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> closeAll </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">closeAll</span><span style="color:#BABED8;">()</span></span></code></pre></div><h3 id="closeright" tabindex="-1">closeRight <a class="header-anchor" href="#closeright" aria-label="Permalink to &quot;closeRight&quot;">​</a></h3><p>关闭指定索引位置的右侧所有标签页。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> closeRight </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭索引位置为 \`1\` 的右侧所有标签页</span></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/echart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭 key 为 \`/echart\` 的右侧所有标签页</span></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> MenuTagOptions </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭具体的右侧所有标签页</span></span></code></pre></div><h3 id="closeleft" tabindex="-1">closeLeft <a class="header-anchor" href="#closeleft" aria-label="Permalink to &quot;closeLeft&quot;">​</a></h3><p>关闭指定索引位置的左侧所有标签页。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> closeLeft </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭索引位置为 \`1\` 的左侧所有标签页</span></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/echart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭 key 为 \`/echart\` 的左侧所有标签页</span></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> MenuTagOptions </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭具体的左侧所有标签页</span></span></code></pre></div><h3 id="closeother" tabindex="-1">closeOther <a class="header-anchor" href="#closeother" aria-label="Permalink to &quot;closeOther&quot;">​</a></h3><p>关闭除了当前索引标签的所有标签页.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> closeOther </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭索引位置为 \`1\` 以外的所有标签页</span></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/echart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭 key 为 \`/echart\` 以外的所有标签页</span></span>
<span class="line"><span style="color:#82AAFF;">closeRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> MenuTagOptions </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 关闭具体以外的所有标签页</span></span></code></pre></div><h3 id="checkcloseright" tabindex="-1">checkCloseRight <a class="header-anchor" href="#checkcloseright" aria-label="Permalink to &quot;checkCloseRight&quot;">​</a></h3><p>校验指定标签右侧是否有可关闭的标签。</p><ul><li>true: 可关闭</li><li>false: 不可关闭</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> checkCloseRight </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">checkCloseRight</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 索引位置为 \`1\` 的右侧是否还有可以被关闭的标签</span></span>
<span class="line"><span style="color:#82AAFF;">checkCloseRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/echart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// key 为 \`/echart\` 的右侧是否还有可以被关闭的标签</span></span>
<span class="line"><span style="color:#82AAFF;">checkCloseRight</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> MenuTagOptions </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">//具体标签项的右侧是否还有可以被关闭的标签</span></span></code></pre></div><h3 id="checkcloseleft" tabindex="-1">checkCloseLeft <a class="header-anchor" href="#checkcloseleft" aria-label="Permalink to &quot;checkCloseLeft&quot;">​</a></h3><p>校验指定标签左侧是否有可关闭的标签。</p><ul><li>true: 可关闭</li><li>false: 不可关闭</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> checkCloseLeft </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMenuTag</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">checkCloseLeft</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// 索引位置为 \`1\` 的左侧是否还有可以被关闭的标签</span></span>
<span class="line"><span style="color:#82AAFF;">checkCloseLeft</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/echart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// key 为 \`/echart\` 的左侧是否还有可以被关闭的标签</span></span>
<span class="line"><span style="color:#82AAFF;">checkCloseLeft</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> MenuTagOptions </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">//具体标签项的左侧是否还有可以被关闭的标签</span></span></code></pre></div>`,41),p=[e];function t(c,r,i,y,D,B){return a(),n("div",null,p)}const h=s(o,[["render",t]]);export{F as __pageData,h as default};
